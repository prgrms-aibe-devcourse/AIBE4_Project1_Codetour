<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>로딩중</title>
    <style>
      :root {
        --bg: #ffffff;
        --fg: #1f2937; /* 글자색 (gray-800) */
        --muted: #6b7280; /* 보조 텍스트 (gray-500) */
        --brand: #3b82f6; /* 진행바 색 (blue-500) */
        --bar-bg: #e5e7eb; /* 진행바 배경 (gray-200) */
        --card: #eff6ff; /* 상단 아이콘 배경 (blue-50) */
        --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      }

      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        background: var(--bg);
        color: var(--fg);
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Helvetica, Arial, Apple SD Gothic Neo, \"Apple SD 산돌고딕 Neo\", \"Malgun Gothic\", \"맑은 고딕\", \"Nanum Gothic\", \"나눔고딕\", sans-serif;
        display: grid;
        place-items: center;
      }

      .wrap {
        width: min(680px, 90vw);
        text-align: center;
        padding: 32px 16px 56px;
      }

      .mini-card {
        width: 56px;
        height: 56px;
        margin: 0 auto 16px;
        border-radius: 14px;
        background: var(--card);
        display: grid;
        place-items: center;
        box-shadow: var(--shadow);
        position: relative;
        overflow: hidden;
      }
      .mini-card::before,
      .mini-card::after {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(59, 130, 246, 0.12),
          transparent 55%
        );
        pointer-events: none;
      }
      .mini-card svg {
        width: 28px;
        height: 28px;
      }

      .runner-box {
        height: 140px;
        display: grid;
        place-items: center;
        margin: 8px 0 12px;
        position: relative;
      }

      .runner {
        width: var(--frame-w, 200px);
        height: var(--frame-h, 120px);
        background-image: var(--sprite, url("seoul-mascot-sprite.png"));
        background-repeat: no-repeat;
        background-size: calc(var(--frames, 8) * 100%) 100%;
        animation: run-steps var(--speed, 0.8s) steps(var(--frames, 8)) infinite,
          bob 0.6s ease-in-out infinite;
        image-rendering: -webkit-optimize-contrast;
        filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.1));
      }

      .ground {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        bottom: 6px;
        width: 60%;
        height: 6px;
        background: linear-gradient(
          90deg,
          rgba(0, 0, 0, 0.06),
          rgba(0, 0, 0, 0.12),
          rgba(0, 0, 0, 0.06)
        );
        border-radius: 999px;
        filter: blur(1px);
        animation: ground-pulse 1.4s ease-in-out infinite;
      }

      @keyframes run-steps {
        to {
          background-position-x: 100%;
        }
      }
      @keyframes bob {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(2px);
        }
      }
      @keyframes ground-pulse {
        0%,
        100% {
          opacity: 0.18;
        }
        50% {
          opacity: 0.35;
        }
      }

      .bar {
        height: 6px;
        width: 100%;
        background: var(--bar-bg);
        border-radius: 999px;
        overflow: hidden;
        margin-top: 24px;
      }
      .bar > span {
        display: block;
        height: 100%;
        width: 38%;
        background: var(--brand);
        border-radius: inherit;
        animation: indeterminate 1.6s ease-in-out infinite;
      }
      @keyframes indeterminate {
        0% {
          width: 10%;
          transform: translateX(-10%);
        }
        50% {
          width: 55%;
          transform: translateX(50%);
        }
        100% {
          width: 10%;
          transform: translateX(110%);
        }
      }

      h1 {
        font-size: clamp(22px, 3.3vw, 32px);
        line-height: 1.25;
        margin: 8px 0 8px;
        font-weight: 800;
      }
      p {
        font-size: clamp(14px, 2.4vw, 16px);
        color: var(--muted);
        margin: 0;
      }

      @media (prefers-reduced-motion: reduce) {
        .runner {
          animation: none;
        }
        .ground {
          animation: none;
        }
        .bar > span {
          animation: none;
          width: 45%;
          transform: none;
        }
      }

      @media (prefers-color-scheme: dark) {
        :root {
          --bg: #0b1020;
          --fg: #e5e7eb;
          --muted: #9ca3af;
          --bar-bg: #111827;
          --card: #0f172a;
          --shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
        }
        .ground {
          background: linear-gradient(
            90deg,
            rgba(255, 255, 255, 0.06),
            rgba(255, 255, 255, 0.14),
            rgba(255, 255, 255, 0.06)
          );
        }
      }
    </style>
  </head>
  <body>
    <main class="wrap" role="status" aria-live="polite">
      <div class="mini-card" aria-hidden="true">
        <!-- 일정 아이콘 -->
        <svg
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="1.5"
          aria-hidden="true"
        >
          <rect
            x="3"
            y="4.5"
            width="18"
            height="16"
            rx="3"
            stroke="currentColor"
          />
          <path d="M8 3v4M16 3v4M3 9.5h18" />
          <rect
            x="7.5"
            y="12"
            width="3.5"
            height="3.5"
            rx="1"
            fill="currentColor"
          />
        </svg>
      </div>

      <h1>속초 여행 스타일에 맞는<br />맞춤 일정을<br />준비중입니다.</h1>
      <p>잠시만 기다려 주세요.</p>

      <div class="runner-box" aria-hidden="true">
        <div
          class="runner"
          style="
            --sprite: url('seoul-mascot-sprite.png'); /* 속초 마스코트 러닝 스프라이트 */
            --frames: 8; /* 총 프레임 수 */
            --frame-w: 200px; /* 각 프레임 너비 */
            --frame-h: 120px; /* 각 프레임 높이 */
            --speed: 0.8s; /* 달리기 속도 */
          "
        ></div>
        <div class="ground"></div>
      </div>

      <div class="bar" aria-label="로딩 진행 중"><span></span></div>
    </main>

    <script>
      (function () {
        const img = new Image();
        const path = getComputedStyle(document.querySelector(".runner"))
          .getPropertyValue("--sprite")
          .replace(/url\(|\)|"|'|\s/g, "");
        img.src = path;
        img.addEventListener("error", () => {
          const runner = document.querySelector(".runner");
          runner.style.background = "none";
          runner.style.width = "120px";
          runner.style.height = "120px";
          runner.innerHTML = `
          <svg viewBox="0 0 120 120" width="120" height="120" aria-hidden="true">
            <g>
              <circle cx="60" cy="26" r="12" fill="#3b82f6"></circle>
              <rect x="52" y="38" width="16" height="30" rx="8" fill="#60a5fa"></rect>
              <path d="M45 70 q15 10 30 0" fill="none" stroke="#3b82f6" stroke-width="6" stroke-linecap="round">
                <animate attributeName="d" dur="0.6s" repeatCount="indefinite"
                  values="M45 70 q15 10 30 0; M45 72 q15 12 30 2; M45 70 q15 10 30 0" />
              </path>
              <circle cx="40" cy="84" r="6" fill="#2563eb">
                <animate attributeName="cx" values="40;35;40" dur="0.6s" repeatCount="indefinite" />
              </circle>
              <circle cx="80" cy="84" r="6" fill="#2563eb">
                <animate attributeName="cx" values="80;85;80" dur="0.6s" repeatCount="indefinite" />
              </circle>
            </g>
          </svg>`;
          runner.style.animation = "bob .6s ease-in-out infinite"; // steps 애니 제거
        });
      })();
    </script>
  </body>
</html>
